"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[843],{4843:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(9439),a=r(1614),i=r(6151),o=r(8141),l=r(4164),s=r(184),u=function(e){var n=e.onClick;return(0,l.createPortal)((0,s.jsx)(i.Z,{variant:"contained",size:"large",startIcon:(0,s.jsx)(o.Z,{}),onClick:n,sx:{position:"fixed",bottom:"10%",right:"40%"},children:"Add contact"}),document.querySelector("#modal-root"))},c=r(1106),d=r(5289),m=r(7123),h=r(9157),x=r(1691),f=r(5661),p=r(4554),b=r(5705),v=r(6727);function j(e){var n=e.onSubmit,r=e.onCancel,t=e.modalIsOpen,a=e.formTitle,o=e.itemData,u=v.Ry().shape({name:v.Z_().min(2,"Min 2 letter!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"only letters, apostrophe, dash and spaces").required("Required!"),number:v.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Invalid phone number.").required("Required!")}),j=(0,b.TA)({initialValues:{name:(null===o||void 0===o?void 0:o.name)||"",number:(null===o||void 0===o?void 0:o.number)||""},validationSchema:u,onSubmit:function(e){n({id:null===o||void 0===o?void 0:o.id,name:e.name,number:e.number})}});return(0,l.createPortal)((0,s.jsx)("div",{children:(0,s.jsx)(d.Z,{open:t,onClose:r,children:(0,s.jsxs)(p.Z,{component:"form",noValidate:!0,onSubmit:j.handleSubmit,children:[(0,s.jsx)(f.Z,{children:a}),(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)(c.Z,{id:"name",name:"name",type:"text",margin:"dense",label:"Name",fullWidth:!0,variant:"outlined",value:j.values.name,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:j.handleChange,required:!0,onBlur:j.handleBlur,error:!(!j.touched.name||!j.errors.name),helperText:j.touched.name&&j.errors.name}),(0,s.jsx)(c.Z,{id:"number",margin:"dense",label:"Phone number",fullWidth:!0,variant:"outlined",type:"tel",name:"number",value:j.values.number,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:j.handleChange,required:!0,onBlur:j.handleBlur,error:!(!j.touched.number||!j.errors.number),helperText:j.touched.number&&j.errors.number})]}),(0,s.jsxs)(m.Z,{children:[(0,s.jsx)(i.Z,{onClick:r,children:"Cancel"}),(0,s.jsx)(i.Z,{type:"submit",children:"Ok"})]})]})})}),document.querySelector("#modal-root"))}var Z=r(2791),C=r(9434),g=r(5339),w=r(6351),y=r(493),k=r(4852),S=r(7621),z=r(890),I=r(533),_=r(3400),A=r(383),q=r(1286),T=function(e){var n=e.onEdit,r=(0,C.v9)(w.K2),t=(0,C.v9)(w.zK),a=(0,C.I0)(),i=(0,Z.useMemo)((function(){return(t?r.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):r).toSorted((function(e,n){return e.name.toLowerCase()<n.name.toLowerCase()?-1:1}))}),[r,t]);return(0,s.jsx)(y.Z,{children:i.map((function(e){var r=e.id,t=e.name,i=e.number;return(0,s.jsx)(k.ZP,{children:(0,s.jsxs)(S.Z,{sx:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,s.jsxs)(p.Z,{sx:{display:"flex",flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,s.jsx)(z.Z,{variant:"h5",sx:{mr:"auto",ml:1},children:"".concat(t)}),(0,s.jsx)(I.Z,{href:"tel:".concat(i.replaceAll(/[ \-.()]/g,"")),underline:"none",children:(0,s.jsx)(z.Z,{variant:"h5",sx:{mr:1},children:"".concat(i)})})]}),(0,s.jsxs)(p.Z,{sx:{display:"flex",flexWrap:{xs:"wrap",sm:"nowrap"},alignItems:"center"},children:[(0,s.jsx)(_.Z,{size:"large",color:"inherit",onClick:function(){n({id:r,name:t,number:i})},children:(0,s.jsx)(q.Z,{fontSize:"inherit"})}),(0,s.jsx)(_.Z,{size:"large",color:"inherit",onClick:function(){a((0,g.xX)(r))},children:(0,s.jsx)(A.Z,{fontSize:"inherit"})})]})]})},r)}))})},W=r(6895),B=function(){var e=(0,C.v9)(w.zK),n=(0,C.I0)();return(0,s.jsx)(c.Z,{label:"Find contacts by name",id:"standard-search",type:"search",variant:"standard",fullWidth:!0,sx:{mt:3,mb:3},name:"filter",value:e,onChange:function(e){(e.target.name="filter")&&n((0,W.T)(e.target.value))},autoComplete:"off"})},P=r(905),E=function(){var e=(0,C.v9)(P.M7),n=(0,C.I0)(),r=(0,C.v9)(w.K2),i=(0,Z.useState)(!1),o=(0,t.Z)(i,2),l=o[0],c=o[1],d=(0,Z.useState)(null),m=(0,t.Z)(d,2),h=m[0],x=m[1];(0,Z.useEffect)((function(){e&&n((0,g.VC)())}),[n,e]);return(0,s.jsxs)(a.Z,{component:"main",children:[l&&(0,s.jsx)(j,{modalIsOpen:!0,formTitle:h?"Edit contact":"Add contact",onCancel:function(){c(!1),x(null)},onSubmit:function(e){var t=e.id,a=e.name,i=e.number;console.log({id:t,name:a,number:i}),(t?r.filter((function(e){var n=e.id;return t!==n})):r).some((function(e){return e.name===a}))?alert("".concat(a," is already in contacts.")):(t?r.some((function(e){var n=e.id,r=e.name,o=e.number;return t===n&&a===r&&i===o}))||n((0,g.hx)({id:t,name:a,number:i})):n((0,g.je)({name:a,number:i})),c(!1),x(null))},itemData:h}),(0,s.jsx)(B,{}),(0,s.jsx)(T,{onEdit:function(e){c(!0),x(e)}}),(0,s.jsx)(u,{onClick:function(){c(!0)}})]})}}}]);
//# sourceMappingURL=843.b95ed0cf.chunk.js.map